<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>English Test - Advanced Practice</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body>
    <div class="test-paper">
        <div class="header">
            <h1>üìö English Test - Advanced Practice</h1>
            <h2>Mixed Skills Assessment</h2>
            <p><strong>Grammar ‚Ä¢ Vocabulary ‚Ä¢ Cloze Test ‚Ä¢ Reading ‚Ä¢ Sentence Transformation</strong></p>
        </div>

        <div class="exam-info">
            <h3>üìã TH√îNG TIN B√ÄI THI</h3>
            <div class="info-grid">
                <div class="info-item">‚è∞ Th·ªùi gian: 90 ph√∫t</div>
                <div class="info-item">üìù S·ªë c√¢u: 40 c√¢u</div>
                <div class="info-item">üìä M·ªói c√¢u: 0.25 ƒëi·ªÉm</div>
                <div class="info-item">üéØ Mixed Skills</div>
            </div>
        </div>

        <div class="student-info">
            <div class="info-row">
                <div class="info-field">
                    <label><strong>H·ªç v√† t√™n:</strong></label>
                    <input type="text" id="studentName" placeholder="Nh·∫≠p h·ªç t√™n">
                </div>
                <div class="info-field">
                    <label><strong>L·ªõp:</strong></label>
                    <input type="text" id="studentClass" placeholder="Nh·∫≠p l·ªõp">
                </div>
            </div>
        </div>

        <div class="progress-section">
            <div id="progressText">üìä ƒê√£ tr·∫£ l·ªùi: 0/40 c√¢u (0%)</div>
            <div class="progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
        </div>

        <form id="testForm">
            <!-- PH·∫¶N I: GRAMMAR & VOCABULARY -->
            <div class="section-header">üìù PH·∫¶N I: GRAMMAR & VOCABULARY - 15 c√¢u</div>
            
            <div class="question">
                <div class="question-number">C√¢u 1:</div>
                <p>I'm _______ because I lost my wallet last night.</p>
                <div class="options">
                    <label><input type="radio" name="q1" value="A"> A. excited</label>
                    <label><input type="radio" name="q1" value="B"> B. calm</label>
                    <label><input type="radio" name="q1" value="C"> C. happy</label>
                    <label><input type="radio" name="q1" value="D"> D. worried</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 2:</div>
                <p>It was a nice day, so we decided _______ for a walk.</p>
                <div class="options">
                    <label><input type="radio" name="q2" value="A"> A. go</label>
                    <label><input type="radio" name="q2" value="B"> B. to go</label>
                    <label><input type="radio" name="q2" value="C"> C. going</label>
                    <label><input type="radio" name="q2" value="D"> D. to going</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 3:</div>
                <p>My name's Pete and this is Sylvia. _______ doctors from France.</p>
                <div class="options">
                    <label><input type="radio" name="q3" value="A"> A. I'm</label>
                    <label><input type="radio" name="q3" value="B"> B. We're</label>
                    <label><input type="radio" name="q3" value="C"> C. She's</label>
                    <label><input type="radio" name="q3" value="D"> D. They're</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 4:</div>
                <p>They're _______ because they got up very early.</p>
                <div class="options">
                    <label><input type="radio" name="q4" value="A"> A. scared</label>
                    <label><input type="radio" name="q4" value="B"> B. bored</label>
                    <label><input type="radio" name="q4" value="C"> C. tired</label>
                    <label><input type="radio" name="q4" value="D"> D. interested</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 5:</div>
                <p>It's raining. Do you want to stand _______ my umbrella with me?</p>
                <div class="options">
                    <label><input type="radio" name="q5" value="A"> A. in front of</label>
                    <label><input type="radio" name="q5" value="B"> B. under</label>
                    <label><input type="radio" name="q5" value="C"> C. behind</label>
                    <label><input type="radio" name="q5" value="D"> D. near</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 6:</div>
                <p>She _______ to school every day by bus.</p>
                <div class="options">
                    <label><input type="radio" name="q6" value="A"> A. go</label>
                    <label><input type="radio" name="q6" value="B"> B. goes</label>
                    <label><input type="radio" name="q6" value="C"> C. going</label>
                    <label><input type="radio" name="q6" value="D"> D. went</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 7:</div>
                <p>Look! The children _______ in the playground.</p>
                <div class="options">
                    <label><input type="radio" name="q7" value="A"> A. play</label>
                    <label><input type="radio" name="q7" value="B"> B. plays</label>
                    <label><input type="radio" name="q7" value="C"> C. are playing</label>
                    <label><input type="radio" name="q7" value="D"> D. played</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 8:</div>
                <p>I _______ my homework when my friend called me.</p>
                <div class="options">
                    <label><input type="radio" name="q8" value="A"> A. do</label>
                    <label><input type="radio" name="q8" value="B"> B. did</label>
                    <label><input type="radio" name="q8" value="C"> C. was doing</label>
                    <label><input type="radio" name="q8" value="D"> D. have done</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 9:</div>
                <p>There _______ many students in the library yesterday.</p>
                <div class="options">
                    <label><input type="radio" name="q9" value="A"> A. was</label>
                    <label><input type="radio" name="q9" value="B"> B. were</label>
                    <label><input type="radio" name="q9" value="C"> C. is</label>
                    <label><input type="radio" name="q9" value="D"> D. are</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 10:</div>
                <p>My sister is _______ than me.</p>
                <div class="options">
                    <label><input type="radio" name="q10" value="A"> A. tall</label>
                    <label><input type="radio" name="q10" value="B"> B. taller</label>
                    <label><input type="radio" name="q10" value="C"> C. tallest</label>
                    <label><input type="radio" name="q10" value="D"> D. the tallest</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 11:</div>
                <p>If it _______ tomorrow, we will stay at home.</p>
                <div class="options">
                    <label><input type="radio" name="q11" value="A"> A. rain</label>
                    <label><input type="radio" name="q11" value="B"> B. rains</label>
                    <label><input type="radio" name="q11" value="C"> C. will rain</label>
                    <label><input type="radio" name="q11" value="D"> D. rained</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 12:</div>
                <p>I have lived here _______ five years.</p>
                <div class="options">
                    <label><input type="radio" name="q12" value="A"> A. since</label>
                    <label><input type="radio" name="q12" value="B"> B. for</label>
                    <label><input type="radio" name="q12" value="C"> C. ago</label>
                    <label><input type="radio" name="q12" value="D"> D. in</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 13:</div>
                <p>She asked me _______ I could help her with the project.</p>
                <div class="options">
                    <label><input type="radio" name="q13" value="A"> A. that</label>
                    <label><input type="radio" name="q13" value="B"> B. if</label>
                    <label><input type="radio" name="q13" value="C"> C. what</label>
                    <label><input type="radio" name="q13" value="D"> D. when</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 14:</div>
                <p>The book _______ by millions of people around the world.</p>
                <div class="options">
                    <label><input type="radio" name="q14" value="A"> A. is read</label>
                    <label><input type="radio" name="q14" value="B"> B. reads</label>
                    <label><input type="radio" name="q14" value="C"> C. was read</label>
                    <label><input type="radio" name="q14" value="D"> D. has been read</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 15:</div>
                <p>I wish I _______ more time to spend with my family.</p>
                <div class="options">
                    <label><input type="radio" name="q15" value="A"> A. have</label>
                    <label><input type="radio" name="q15" value="B"> B. had</label>
                    <label><input type="radio" name="q15" value="C"> C. will have</label>
                    <label><input type="radio" name="q15" value="D"> D. would have</label>
                </div>
            </div>

            <!-- PH·∫¶N II: CLOZE TEST -->
            <div class="section-header">üìñ PH·∫¶N II: CLOZE TEST - 10 c√¢u</div>
            
            <div class="reading-passage">
                <h4>A Letter to a Friend</h4>
                <p><strong>Directions:</strong> Choose the correct answer that best completes each of the blanks in the text.</p>
                <br>
                <p>Dear Charles,</p>
                <p>I'm very sorry I can't come to meet you at the airport because I have to take my mother _______(16) from hospital at that time. Our neighbor, Peter Lee has kindly offered to meet you and _______(17) you home. As you have never met him before, I shall _______(18) him to you.</p>
                
                <p>Peter Lee is _______(19) tall and slim. He is a young man in his early twenties with _______(20) short hair and a fair complexion. He _______(21) a round face and appears cheerful by nature. It is easy to recognize him _______(22) he is usually dressed in jeans and a T-shirt and _______(23) boots.</p>
                
                <p>I do hope you manage to recognize my neighbor _______(24) any difficulty and I look forward to _______(25) you when he brings you to my flat.</p>
                
                <p>Yours sincerely,<br>John</p>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 16:</div>
                <div class="options">
                    <label><input type="radio" name="q16" value="A"> A. home</label>
                    <label><input type="radio" name="q16" value="B"> B. house</label>
                    <label><input type="radio" name="q16" value="C"> C. here</label>
                    <label><input type="radio" name="q16" value="D"> D. work</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 17:</div>
                <div class="options">
                    <label><input type="radio" name="q17" value="A"> A. move</label>
                    <label><input type="radio" name="q17" value="B"> B. go</label>
                    <label><input type="radio" name="q17" value="C"> C. bring</label>
                    <label><input type="radio" name="q17" value="D"> D. travel</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 18:</div>
                <div class="options">
                    <label><input type="radio" name="q18" value="A"> A. say</label>
                    <label><input type="radio" name="q18" value="B"> B. describe</label>
                    <label><input type="radio" name="q18" value="C"> C. tell</label>
                    <label><input type="radio" name="q18" value="D"> D. speak</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 19:</div>
                <div class="options">
                    <label><input type="radio" name="q19" value="A"> A. are</label>
                    <label><input type="radio" name="q19" value="B"> B. be</label>
                    <label><input type="radio" name="q19" value="C"> C. was</label>
                    <label><input type="radio" name="q19" value="D"> D. is</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 20:</div>
                <div class="options">
                    <label><input type="radio" name="q20" value="A"> A. in</label>
                    <label><input type="radio" name="q20" value="B"> B. with</label>
                    <label><input type="radio" name="q20" value="C"> C. on</label>
                    <label><input type="radio" name="q20" value="D"> D. at</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 21:</div>
                <div class="options">
                    <label><input type="radio" name="q21" value="A"> A. have</label>
                    <label><input type="radio" name="q21" value="B"> B. has</label>
                    <label><input type="radio" name="q21" value="C"> C. is</label>
                    <label><input type="radio" name="q21" value="D"> D. are</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 22:</div>
                <div class="options">
                    <label><input type="radio" name="q22" value="A"> A. because</label>
                    <label><input type="radio" name="q22" value="B"> B. when</label>
                    <label><input type="radio" name="q22" value="C"> C. although</label>
                    <label><input type="radio" name="q22" value="D"> D. for</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 23:</div>
                <div class="options">
                    <label><input type="radio" name="q23" value="A"> A. goes</label>
                    <label><input type="radio" name="q23" value="B"> B. put</label>
                    <label><input type="radio" name="q23" value="C"> C. gets</label>
                    <label><input type="radio" name="q23" value="D"> D. wears</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 24:</div>
                <div class="options">
                    <label><input type="radio" name="q24" value="A"> A. with</label>
                    <label><input type="radio" name="q24" value="B"> B. about</label>
                    <label><input type="radio" name="q24" value="C"> C. without</label>
                    <label><input type="radio" name="q24" value="D"> D. to</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 25:</div>
                <div class="options">
                    <label><input type="radio" name="q25" value="A"> A. see</label>
                    <label><input type="radio" name="q25" value="B"> B. seeing</label>
                    <label><input type="radio" name="q25" value="C"> C. to see</label>
                    <label><input type="radio" name="q25" value="D"> D. saw</label>
                </div>
            </div>

            <!-- PH·∫¶N III: SENTENCE TRANSFORMATION -->
            <div class="section-header">üîÑ PH·∫¶N III: SENTENCE TRANSFORMATION - 10 c√¢u</div>
            <p style="font-style: italic; margin-bottom: 20px;"><strong>Directions:</strong> Choose the answer that has the same meaning as the original sentence.</p>

            <div class="question">
                <div class="question-number">C√¢u 26:</div>
                <p><em>My friends like listening to music every Sunday.</em></p>
                <div class="options">
                    <label><input type="radio" name="q26" value="A"> A. My friends loves listening to music</label>
                    <label><input type="radio" name="q26" value="B"> B. My friends love listen to music on Sundays</label>
                    <label><input type="radio" name="q26" value="C"> C. My friends love listening to music on Sundays</label>
                    <label><input type="radio" name="q26" value="D"> D. My friends like to listen to music</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 27:</div>
                <p><em>Why don't we go swimming?</em></p>
                <div class="options">
                    <label><input type="radio" name="q27" value="A"> A. What about going swimming?</label>
                    <label><input type="radio" name="q27" value="B"> B. Shall we go to the swimming?</label>
                    <label><input type="radio" name="q27" value="C"> C. Would you like going swimming?</label>
                    <label><input type="radio" name="q27" value="D"> D. Let's to go swimming?</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 28:</div>
                <p><em>Bill didn't go to school because of his illness.</em></p>
                <div class="options">
                    <label><input type="radio" name="q28" value="A"> A. Bill was ill and he didn't go to school.</label>
                    <label><input type="radio" name="q28" value="B"> B. Because Bill was ill, he didn't go to school.</label>
                    <label><input type="radio" name="q28" value="C"> C. Bill was ill so he went to school</label>
                    <label><input type="radio" name="q28" value="D"> D. Bill went to school so he was ill</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 29:</div>
                <p><em>I share an apartment with my best friend.</em></p>
                <div class="options">
                    <label><input type="radio" name="q29" value="A"> A. I live in an apartment with my best friend.</label>
                    <label><input type="radio" name="q29" value="B"> B. My best friend is staying in an apartment</label>
                    <label><input type="radio" name="q29" value="C"> C. I and my friend share an apartments</label>
                    <label><input type="radio" name="q29" value="D"> D. I and my friend live together</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 30:</div>
                <p><em>He goes to work by bike.</em></p>
                <div class="options">
                    <label><input type="radio" name="q30" value="A"> A. He ride a bike to work.</label>
                    <label><input type="radio" name="q30" value="B"> B. he drive a bike to work.</label>
                    <label><input type="radio" name="q30" value="C"> C. He rides his bike to work.</label>
                    <label><input type="radio" name="q30" value="D"> D. He get to work by bike.</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 31:</div>
                <p><em>The last time I saw him was three years ago.</em></p>
                <div class="options">
                    <label><input type="radio" name="q31" value="A"> A. I haven't seen him for three years.</label>
                    <label><input type="radio" name="q31" value="B"> B. I didn't see him three years ago.</label>
                    <label><input type="radio" name="q31" value="C"> C. I saw him three years before.</label>
                    <label><input type="radio" name="q31" value="D"> D. I have seen him for three years.</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 32:</div>
                <p><em>"I will call you tomorrow," she said.</em></p>
                <div class="options">
                    <label><input type="radio" name="q32" value="A"> A. She said she will call me tomorrow.</label>
                    <label><input type="radio" name="q32" value="B"> B. She said she would call me the next day.</label>
                    <label><input type="radio" name="q32" value="C"> C. She said she calls me tomorrow.</label>
                    <label><input type="radio" name="q32" value="D"> D. She said she called me the next day.</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 33:</div>
                <p><em>It's not necessary for you to come early.</em></p>
                <div class="options">
                    <label><input type="radio" name="q33" value="A"> A. You mustn't come early.</label>
                    <label><input type="radio" name="q33" value="B"> B. You don't have to come early.</label>
                    <label><input type="radio" name="q33" value="C"> C. You shouldn't come early.</label>
                    <label><input type="radio" name="q33" value="D"> D. You can't come early.</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 34:</div>
                <p><em>This is the most interesting book I have ever read.</em></p>
                <div class="options">
                    <label><input type="radio" name="q34" value="A"> A. I have never read such an interesting book before.</label>
                    <label><input type="radio" name="q34" value="B"> B. I have read many interesting books.</label>
                    <label><input type="radio" name="q34" value="C"> C. This book is more interesting than others.</label>
                    <label><input type="radio" name="q34" value="D"> D. I find this book very interesting.</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 35:</div>
                <p><em>Despite the rain, they went out for a walk.</em></p>
                <div class="options">
                    <label><input type="radio" name="q35" value="A"> A. Although it rained, they went out for a walk.</label>
                    <label><input type="radio" name="q35" value="B"> B. Because it rained, they went out for a walk.</label>
                    <label><input type="radio" name="q35" value="C"> C. It rained so they went out for a walk.</label>
                    <label><input type="radio" name="q35" value="D"> D. It didn't rain so they went out for a walk.</label>
                </div>
            </div>

            <!-- PH·∫¶N IV: READING COMPREHENSION -->
            <div class="section-header">üìö PH·∫¶N IV: READING COMPREHENSION - 5 c√¢u</div>
            
            <div class="reading-passage">
                <h4>Benefits of doing housework</h4>
                <p>Many people think that doing housework is boring and tiring. However, recent studies show that housework can actually bring many benefits to our health and well-being.</p>
                
                <p>First, housework is a form of physical exercise. Activities like cleaning, washing dishes, and organizing rooms help us burn calories and stay fit. According to researchers, just 30 minutes of housework can burn up to 100 calories, which is similar to a short walk.</p>
                
                <p>Second, doing housework can reduce stress and improve our mood. When we clean and organize our living space, we feel more relaxed and comfortable. A clean and tidy home creates a peaceful environment that helps us think more clearly.</p>
                
                <p>Third, housework teaches us important life skills and responsibility. Children who help with housework from an early age learn to be independent and develop good habits. They also understand the value of hard work and cooperation.</p>
                
                <p>Finally, sharing housework with family members strengthens family bonds. When everyone contributes to keeping the home clean and organized, it creates a sense of teamwork and mutual respect.</p>
                
                <p>In conclusion, although housework may seem like a chore, it actually offers many physical, mental, and social benefits that make it worth doing.</p>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 36:</div>
                <p>What is the main idea of the passage?</p>
                <div class="options">
                    <label><input type="radio" name="q36" value="A"> A. Housework is boring and tiring.</label>
                    <label><input type="radio" name="q36" value="B"> B. Housework brings many benefits to our health and well-being.</label>
                    <label><input type="radio" name="q36" value="C"> C. Children should not do housework.</label>
                    <label><input type="radio" name="q36" value="D"> D. Housework is only good for physical exercise.</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 37:</div>
                <p>According to the passage, 30 minutes of housework can burn:</p>
                <div class="options">
                    <label><input type="radio" name="q37" value="A"> A. 50 calories</label>
                    <label><input type="radio" name="q37" value="B"> B. 100 calories</label>
                    <label><input type="radio" name="q37" value="C"> C. 150 calories</label>
                    <label><input type="radio" name="q37" value="D"> D. 200 calories</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 38:</div>
                <p>How does housework affect our mood?</p>
                <div class="options">
                    <label><input type="radio" name="q38" value="A"> A. It makes us more stressed.</label>
                    <label><input type="radio" name="q38" value="B"> B. It reduces stress and improves our mood.</label>
                    <label><input type="radio" name="q38" value="C"> C. It has no effect on our mood.</label>
                    <label><input type="radio" name="q38" value="D"> D. It makes us feel tired.</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 39:</div>
                <p>What do children learn from doing housework?</p>
                <div class="options">
                    <label><input type="radio" name="q39" value="A"> A. Independence and good habits</label>
                    <label><input type="radio" name="q39" value="B"> B. How to be lazy</label>
                    <label><input type="radio" name="q39" value="C"> C. How to avoid work</label>
                    <label><input type="radio" name="q39" value="D"> D. Nothing important</label>
                </div>
            </div>

            <div class="question">
                <div class="question-number">C√¢u 40:</div>
                <p>According to the passage, sharing housework with family members:</p>
                <div class="options">
                    <label><input type="radio" name="q40" value="A"> A. Creates conflicts in the family</label>
                    <label><input type="radio" name="q40" value="B"> B. Makes family members tired</label>
                    <label><input type="radio" name="q40" value="C"> C. Strengthens family bonds</label>
                    <label><input type="radio" name="q40" value="D"> D. Is not necessary</label>
                </div>
            </div>

        </form>

        <!-- N√öT SUBMIT ·ªû CU·ªêI TRANG -->
        <div class="submit-section">
            <button type="button" class="submit-btn" onclick="submitTest()">üéØ N·ªòP B√ÄI & XEM K·∫æT QU·∫¢</button>
        </div>

        <!-- K·∫æT QU·∫¢ -->
        <div id="result" class="result-section" style="display: none;">
            <h2>üìä K·∫æT QU·∫¢ B√ÄI THI</h2>
            <div id="scoreInfo" class="score-summary"></div>
            <div id="detailedResults" class="detailed-results"></div>
            <div class="submit-section">
                <button type="button" class="submit-btn" onclick="resetTest()" style="background: linear-gradient(135deg, #ff9800 0%, #f57c00 100%);">üîÑ L√ÄM L·∫†I</button>
            </div>
        </div>
    </div>

    <script>
        // ƒê√°p √°n ƒë√∫ng
        const correctAnswers = {
            // Grammar & Vocabulary (1-15)
            q1: 'D', q2: 'B', q3: 'B', q4: 'C', q5: 'B',
            q6: 'B', q7: 'C', q8: 'C', q9: 'B', q10: 'B',
            q11: 'B', q12: 'B', q13: 'B', q14: 'A', q15: 'B',
            
            // Cloze Test (16-25)
            q16: 'A', q17: 'C', q18: 'B', q19: 'D', q20: 'A',
            q21: 'B', q22: 'A', q23: 'D', q24: 'C', q25: 'B',
            
            // Sentence Transformation (26-35)
            q26: 'C', q27: 'A', q28: 'B', q29: 'A', q30: 'C',
            q31: 'A', q32: 'B', q33: 'B', q34: 'A', q35: 'A',
            
            // Reading Comprehension (36-40)
            q36: 'B', q37: 'B', q38: 'B', q39: 'A', q40: 'C'
        };

        // C·∫≠p nh·∫≠t progress khi ch·ªçn ƒë√°p √°n
        document.addEventListener('change', function(e) {
            if (e.target.type === 'radio') {
                updateProgress();
            }
        });

        function updateProgress() {
            let answered = 0;
            for (let i = 1; i <= 40; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                if (selected) answered++;
            }
            
            const percentage = Math.round((answered / 40) * 100);
            document.getElementById('progressBar').style.width = percentage + '%';
            document.getElementById('progressText').textContent = `üìä ƒê√£ tr·∫£ l·ªùi: ${answered}/40 c√¢u (${percentage}%)`;
        }

        function submitTest() {
            const studentName = document.getElementById('studentName').value;
            const studentClass = document.getElementById('studentClass').value;
            
            if (!studentName || !studentClass) {
                alert('Vui l√≤ng nh·∫≠p ƒë·∫ßy ƒë·ªß h·ªç t√™n v√† l·ªõp!');
                return;
            }

            let correctCount = 0;
            let totalQuestions = 40;
            let sectionScores = {
                grammar: { correct: 0, total: 15 },
                cloze: { correct: 0, total: 10 },
                transformation: { correct: 0, total: 10 },
                reading: { correct: 0, total: 5 }
            };
            
            let detailedHTML = '<h4>üìã Chi ti·∫øt t·ª´ng c√¢u:</h4>';
            
            for (let i = 1; i <= totalQuestions; i++) {
                const selected = document.querySelector(`input[name="q${i}"]:checked`);
                const userAnswer = selected ? selected.value : null;
                const correctAnswer = correctAnswers[`q${i}`];
                const isCorrect = userAnswer === correctAnswer;
                
                if (isCorrect) {
                    correctCount++;
                    // Ph√¢n lo·∫°i theo section
                    if (i <= 15) sectionScores.grammar.correct++;
                    else if (i <= 25) sectionScores.cloze.correct++;
                    else if (i <= 35) sectionScores.transformation.correct++;
                    else sectionScores.reading.correct++;
                }
                
                const statusClass = isCorrect ? 'correct' : 'incorrect';
                const statusIcon = isCorrect ? '‚úÖ' : '‚ùå';
                const answerText = userAnswer || 'Kh√¥ng ch·ªçn';
                
                detailedHTML += `
                    <div class="question-result ${statusClass}">
                        <strong>C√¢u ${i}:</strong> ${statusIcon} 
                        B·∫°n ch·ªçn: <span>${answerText}</span> | 
                        ƒê√°p √°n: <span>${correctAnswer}</span>
                        <em>K·∫øt qu·∫£: ${isCorrect ? 'ƒê√∫ng' : 'Sai'}</em>
                    </div>
                `;
            }
            
            const score = (correctCount * 0.25).toFixed(2);
            const percentage = ((correctCount / totalQuestions) * 100).toFixed(1);
            
            let grade = '';
            if (percentage >= 80) grade = 'Gi·ªèi üåü';
            else if (percentage >= 65) grade = 'Kh√° üëç';
            else if (percentage >= 50) grade = 'Trung b√¨nh üìù';
            else grade = 'C·∫ßn c·ªë g·∫Øng üí™';
            
            const currentDate = new Date().toLocaleString('vi-VN');
            
            document.getElementById('scoreInfo').innerHTML = `
                <h3>üë§ Th√¥ng tin th√≠ sinh</h3>
                <div class="score-details">
                    <div class="score-item">
                        <strong>${studentName}</strong>
                        H·ªç t√™n
                    </div>
                    <div class="score-item">
                        <strong>${studentClass}</strong>
                        L·ªõp
                    </div>
                    <div class="score-item">
                        <strong>${currentDate}</strong>
                        Ng√†y thi
                    </div>
                </div>
                
                <h3 style="margin-top: 30px;">üéØ K·∫øt qu·∫£ t·ªïng quan</h3>
                <div class="score-details">
                    <div class="score-item">
                        <strong>${correctCount}/40</strong>
                        S·ªë c√¢u ƒë√∫ng
                    </div>
                    <div class="score-item">
                        <strong>${score}/10</strong>
                        ƒêi·ªÉm s·ªë
                    </div>
                    <div class="score-item">
                        <strong>${percentage}%</strong>
                        Ph·∫ßn trƒÉm
                    </div>
                    <div class="score-item">
                        <strong>${grade}</strong>
                        X·∫øp lo·∫°i
                    </div>
                </div>
                
                <h3 style="margin-top: 30px;">üìä K·∫øt qu·∫£ t·ª´ng ph·∫ßn</h3>
                <div class="section-analysis">
                    <strong>üìù Grammar & Vocabulary:</strong> ${sectionScores.grammar.correct}/${sectionScores.grammar.total} (${((sectionScores.grammar.correct/sectionScores.grammar.total)*100).toFixed(1)}%)
                </div>
                <div class="section-analysis">
                    <strong>üìñ Cloze Test:</strong> ${sectionScores.cloze.correct}/${sectionScores.cloze.total} (${((sectionScores.cloze.correct/sectionScores.cloze.total)*100).toFixed(1)}%)
                </div>
                <div class="section-analysis">
                    <strong>üîÑ Sentence Transformation:</strong> ${sectionScores.transformation.correct}/${sectionScores.transformation.total} (${((sectionScores.transformation.correct/sectionScores.transformation.total)*100).toFixed(1)}%)
                </div>
                <div class="section-analysis">
                    <strong>üìö Reading Comprehension:</strong> ${sectionScores.reading.correct}/${sectionScores.reading.total} (${((sectionScores.reading.correct/sectionScores.reading.total)*100).toFixed(1)}%)
                </div>
            `;
            
            document.getElementById('detailedResults').innerHTML = detailedHTML;
            document.getElementById('result').style.display = 'block';
            
            // Scroll to results
            document.getElementById('result').scrollIntoView({ behavior: 'smooth' });
        }

        function resetTest() {
            // Reset form
            document.getElementById('testForm').reset();
            document.getElementById('studentName').value = '';
            document.getElementById('studentClass').value = '';
            
            // Reset progress
            document.getElementById('progressBar').style.width = '0%';
            document.getElementById('progressText').textContent = 'üìä ƒê√£ tr·∫£ l·ªùi: 0/40 c√¢u (0%)';
            
            // Hide results
            document.getElementById('result').style.display = 'none';
            
            // Scroll to top
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // Prevent accidental page refresh
        window.addEventListener('beforeunload', function(e) {
            const answered = document.querySelectorAll('input[type="radio"]:checked').length;
            if (answered > 0) {
                e.preventDefault();
                e.returnValue = '';
            }
        });
    </script>
</body>
</html>
